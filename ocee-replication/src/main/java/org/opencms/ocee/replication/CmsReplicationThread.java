package org.opencms.ocee.replication;

import java.util.List;
import org.opencms.db.CmsDbContext;
import org.opencms.file.CmsObject;
import org.opencms.report.A_CmsReportThread;
import org.opencms.util.CmsStringUtil;

public class CmsReplicationThread extends A_CmsReportThread {
   private Throwable Ô000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000String;
   private String Ò000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000new = "";
   private String Ó000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Object = "";
   private String o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000super = "";

   public CmsReplicationThread(CmsObject cms, String handlers, String servers, String resources) {
      super(cms, Messages.get().getBundle(cms.getRequestContext().getLocale()).key("RPT_THREAD_NAME_0"));
      this.Ò000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000new = handlers;
      this.o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000super = servers;
      this.Ó000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Object = resources;
      this.initHtmlReport(cms.getRequestContext().getLocale());
   }

   public Throwable getError() {
      return this.Ô000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000String;
   }

   public String getReportUpdate() {
      return this.getReport().getReportUpdate();
   }

   public void run() {
      try {
         this.getReport().println(Messages.get().container("RPT_REPLICATION_FULL_BEGIN_0"), 2);
         CmsDbContext dbc = new CmsDbContext(this.getCms().getRequestContext());
         List handlers = CmsStringUtil.splitAsList(this.Ò000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000new, ',', true);
         List resources = CmsStringUtil.splitAsList(this.Ó000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Object, ',', true);
         CmsReplicationManager.getInstance().handleFullReplication(dbc, this.getCms(), this.getReport(), handlers, this.o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000super, resources);
         this.getReport().println(Messages.get().container("RPT_REPLICATION_FULL_END_0"), 2);
         this.getReport().println(Messages.get().container("RPT_ADVICE_CLOCKS_SYNCHRONIZED_0"), 2);
      } catch (Throwable var4) {
         this.getReport().println(var4);
      }

   }
}
