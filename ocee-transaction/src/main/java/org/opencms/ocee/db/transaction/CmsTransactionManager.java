package org.opencms.ocee.db.transaction;

import java.util.Iterator;
import org.opencms.main.CmsCoreProvider;
import org.opencms.ocee.base.CmsOceeManager;
import org.opencms.ocee.base.CmsStatisticalCounterCollection;
import org.opencms.workplace.tools.CmsIdentifiableObjectContainer;

public final class CmsTransactionManager {
   private String Ó000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Object;
   private CmsIdentifiableObjectContainer Ò000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000new = new CmsIdentifiableObjectContainer(true, false);
   private CmsIdentifiableObjectContainer Ô000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000String;
   private boolean o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000super;

   public boolean isInitialized() {
      return this.o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000super;
   }

   public static CmsTransactionManager getInstance() {
      try {
         return (CmsTransactionManager)CmsOceeManager.getInstance().getClassLoader().loadObject(CmsTransactionManager.class.getName());
      } catch (Exception var1) {
         var1.printStackTrace();
         return null;
      }
   }

   public String getDbContextFactory() {
      if (this.Ó000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Object == null) {
         this.Ó000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Object = CmsCoreProvider.getInstance().getRuntimeInfoFactory().getClass().getName();
      }

      return this.Ó000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000Object;
   }

   public String getSqlManager(CmsTransactionInstanceType type) {
      String sqlManager = (String)this.Ò000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000new.getObject(type.getType());
      if (sqlManager == null) {
         sqlManager = CmsCoreProvider.getInstance().getSqlManagerClassnameForDriver(type.getType());
         this.Ò000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000new.addIdentifiableObject(type.getType(), sqlManager);
      }

      return sqlManager;
   }

   public CmsStatisticalCounterCollection getStatistics() {
      CmsStatisticalCounterCollection statistics = new CmsStatisticalCounterCollection();
      Iterator itAll = CmsTransactionInstanceType.VALUES.iterator();

      while(itAll.hasNext()) {
         CmsTransactionInstanceType type = (CmsTransactionInstanceType)itAll.next();
         statistics.addAll(this.getStatistics(type).getCounters());
      }

      return statistics;
   }

   public CmsTransactionStatistics getStatistics(CmsTransactionInstanceType type) {
      return (CmsTransactionStatistics)this.Ô000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000String.getObject(type.getType());
   }

   public void initialize() {
      if (!this.o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000super) {
         this.o000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000super = true;
         this.Ô000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000String = new CmsIdentifiableObjectContainer(true, false);
         Iterator itAll = CmsTransactionInstanceType.VALUES.iterator();

         while(itAll.hasNext()) {
            CmsTransactionInstanceType type = (CmsTransactionInstanceType)itAll.next();
            this.Ô000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000String.addIdentifiableObject(type.getType(), new CmsTransactionStatistics(type));
         }
      }

   }
}
